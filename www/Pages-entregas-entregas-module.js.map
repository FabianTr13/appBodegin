{"version":3,"sources":["webpack:///./src/app/Pages/entregas/entregas.module.ts","webpack:///./src/app/Pages/entregas/entregas.page.html","webpack:///./src/app/Pages/entregas/entregas.page.scss","webpack:///./src/app/Pages/entregas/entregas.page.ts","webpack:///./src/app/Services/entregas.service.ts"],"names":[],"mappings":"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","file":"Pages-entregas-entregas-module.js","sourcesContent":["import { ComponentsModule } from '../../components/components.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { PipesModule } from '../../Pipe/pipes.module';\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EntregasPage } from './entregas.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EntregasPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    PipesModule,\r\n    RouterModule.forChild(routes),\r\n    ComponentsModule\r\n  ],\r\n  declarations: [EntregasPage]\r\n})\r\nexport class EntregasPageModule {}\r\n","module.exports = \"<app-header-in titulo=\\\"Entrega\\\"></app-header-in>\\r\\n<ion-content class=\\\"contenedor\\\">\\r\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\r\\n  <ion-refresher-content  pullingIcon=\\\"arrow-dropdown\\\"\\r\\n                          pullingText=\\\"Hale para recargar\\\"\\r\\n                          refreshingSpinner=\\\"circles\\\"\\r\\n                          refreshingText=\\\"Recargando...\\\"></ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n  <ion-card class=\\\"car\\\" *ngFor=\\\"let item of servicios\\\">\\r\\n    <ion-item class=\\\"car-head\\\" lines=\\\"none\\\">\\r\\n      <ion-icon name=\\\"md-basket\\\" slot=\\\"start\\\"></ion-icon>\\r\\n      <p>{{item.descripcion}}</p>\\r\\n    </ion-item>\\r\\n    <ion-card-content>\\r\\n      <ion-chip *ngFor=\\\"let item_productos of item.productos\\\">\\r\\n        <ion-avatar>\\r\\n          <img [src]=\\\"item_productos.fotografia | domSanitizer\\\">\\r\\n        </ion-avatar>\\r\\n        <ion-label>{{item_productos.nombre}} &nbsp;</ion-label>\\r\\n        <ion-badge color=\\\"medium\\\" *ngIf=\\\"item_productos.id_tipo_consumo == 1\\\">{{item_productos.cantidad}}</ion-badge>\\r\\n        <ion-badge color=\\\"medium\\\" *ngIf=\\\"item_productos.id_tipo_consumo == 2\\\">{{item_productos.porcentaje}}%</ion-badge>\\r\\n      </ion-chip>\\r\\n    </ion-card-content>\\r\\n    <div class=\\\"center-boton\\\">\\r\\n      <ion-button expand=\\\"full\\\"\\r\\n                  color=\\\"primary\\\"\\r\\n                  shape=\\\"round\\\"\\r\\n                  (click)=\\\"entregarServicio(item.id_servicio)\\\"\\r\\n                  class=\\\"boton\\\">\\r\\n                  Entregar<ion-label class=\\\"precio\\\">&nbsp;L. {{item.precio}}</ion-label>\\r\\n                  <ion-icon name=\\\"arrow-round-forward\\\" slot=\\\"end\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </div>\\r\\n  </ion-card>\\r\\n</ion-content>\\r\\n\"","module.exports = \".car {\\n  border: solid 1px #cacaca;\\n  --background: white; }\\n\\n.precio {\\n  font-size: 1.4em;\\n  color: #52f450;\\n  font-weight: bold; }\\n\\n.center-boton {\\n  text-align: center; }\\n\\n.car-head {\\n  font-size: 1.1rem;\\n  font-weight: bold;\\n  color: #6e6368;\\n  border-top: solid 4px #3880ff; }\\n\\n@media (min-width: 600px) {\\n  .boton {\\n    width: 45%;\\n    float: right; } }\\n\\n@media (min-width: 700px) {\\n  .boton {\\n    width: 33%;\\n    float: right; } }\\n\\n@media (min-width: 900px) {\\n  .boton {\\n    width: 25%;\\n    float: right; } }\\n\\n@media (min-width: 1100px) {\\n  .boton {\\n    width: 20%;\\n    float: right; } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvUGFnZXMvZW50cmVnYXMvQzpcXFVzZXJzXFxGYWJpYW5cXERvY3VtZW50c1xcYm9kZWdpblxcYXBwQm9kZWdpbi9zcmNcXGFwcFxcUGFnZXNcXGVudHJlZ2FzXFxlbnRyZWdhcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBS0E7RUFDRSx5QkFBeUI7RUFDekIsbUJBQWEsRUFBQTs7QUFHZjtFQUNFLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QsaUJBQWlCLEVBQUE7O0FBT25CO0VBQ0Usa0JBQWtCLEVBQUE7O0FBR3BCO0VBQ0UsaUJBQWlCO0VBQ2pCLGlCQUFpQjtFQUNqQixjQUFjO0VBQ2QsNkJBQTZCLEVBQUE7O0FBRy9CO0VBQ0U7SUFDRSxVQUFVO0lBQ1YsWUFBWSxFQUFBLEVBQ2I7O0FBRUg7RUFDRTtJQUNFLFVBQVU7SUFDVixZQUFZLEVBQUEsRUFDYjs7QUFFSDtFQUNFO0lBQ0UsVUFBVTtJQUNWLFlBQVksRUFBQSxFQUNiOztBQUVIO0VBQ0U7SUFDRSxVQUFVO0lBQ1YsWUFBWSxFQUFBLEVBQ2IiLCJmaWxlIjoic3JjL2FwcC9QYWdlcy9lbnRyZWdhcy9lbnRyZWdhcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLmNvbnRlbmVkb3J7XHJcbiAgLy8tLWJhY2tncm91bmQ6I2UwZTBlMDtcclxufVxyXG5cclxuLmNhcntcclxuICBib3JkZXI6IHNvbGlkIDFweCAjY2FjYWNhO1xyXG4gIC0tYmFja2dyb3VuZDogd2hpdGU7XHJcbn1cclxuXHJcbi5wcmVjaW97XHJcbiAgZm9udC1zaXplOiAxLjRlbTtcclxuICBjb2xvcjogIzUyZjQ1MDtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG5cclxuLmJvdG9ue1xyXG5cclxufVxyXG5cclxuLmNlbnRlci1ib3RvbntcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5jYXItaGVhZHtcclxuICBmb250LXNpemU6IDEuMXJlbTtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICBjb2xvcjogIzZlNjM2ODtcclxuICBib3JkZXItdG9wOiBzb2xpZCA0cHggIzM4ODBmZjtcclxufVxyXG5cclxuQG1lZGlhIChtaW4td2lkdGg6IDYwMHB4KSB7XHJcbiAgLmJvdG9ue1xyXG4gICAgd2lkdGg6IDQ1JTtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICB9XHJcbn1cclxuQG1lZGlhIChtaW4td2lkdGg6IDcwMHB4KSB7XHJcbiAgLmJvdG9ue1xyXG4gICAgd2lkdGg6IDMzJTtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICB9XHJcbn1cclxuQG1lZGlhIChtaW4td2lkdGg6IDkwMHB4KSB7XHJcbiAgLmJvdG9ue1xyXG4gICAgd2lkdGg6IDI1JTtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICB9XHJcbn1cclxuQG1lZGlhIChtaW4td2lkdGg6IDExMDBweCkge1xyXG4gIC5ib3RvbntcclxuICAgIHdpZHRoOiAyMCU7XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { EntregasService } from '../../Services/entregas.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { ToastController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-entregas',\r\n  templateUrl: './entregas.page.html',\r\n  styleUrls: ['./entregas.page.scss'],\r\n})\r\nexport class EntregasPage implements OnInit {\r\n\r\n  servicios = []\r\n\r\n  constructor(private Pro_entregas:EntregasService,\r\n              private storage:Storage,\r\n              public toastController: ToastController) { }\r\n\r\n  ngOnInit() {\r\n    this.storage.get('token').then(token=>{\r\n      this.Pro_entregas.getSetvicios(token).subscribe(data=>{\r\n        this.servicios = data\r\n      })\r\n    })\r\n  }\r\n\r\n  async doRefresh(event) {\r\n    this.storage.get('token').then(token=>{\r\n      this.Pro_entregas.getSetvicios(token).subscribe(data=>{\r\n        this.servicios = data\r\n        event.target.complete();\r\n      }, err=>{\r\n        event.target.complete();\r\n      })\r\n    })\r\n  }\r\n\r\n  async entregarServicio(p_id_servicio){\r\n    let result = await this.Pro_entregas.realizarEntrega(p_id_servicio);\r\n    console.log(result)\r\n    if (result==false) {\r\n      await this.showToast('El inventario no es sufuciente', 4000)\r\n    }\r\n    else{\r\n      await this.showToast('Entrega realizada con exito', 1500)\r\n    }\r\n  }\r\n\r\n  async showToast(p_mensaje, p_duration=2000){\r\n    const toast = await this.toastController.create({\r\n      message: p_mensaje,\r\n      duration: p_duration,\r\n      position: 'middle',\r\n      showCloseButton: true,\r\n      closeButtonText: 'Cerrar'\r\n    });\r\n    toast.present();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders }  from \"@angular/common/http\";\nimport { Header, WEB_SERVICE, isApp } from '../Config/configuration';\nimport { map } from 'rxjs/operators';\nimport { Storage } from '@ionic/storage'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EntregasService {\n\n  constructor(private Pro_http:HttpClient,\n              private storage:Storage) { }\n\n  getSetvicios(p_token){\n    //Preparacion de header\n    const headers = new HttpHeaders(Header);\n\n    //Preparacion de body\n    let body = {\n      token: p_token\n    }\n\n    let url = `${WEB_SERVICE}api/entregas/getServicios`\n    return this.Pro_http.post(url, body, { headers }).pipe(map((result: any) => {\n      return result;\n    }));\n  }\n\n  async realizarEntrega(p_id_servicio){\n    //Preparacion de header\n    const headers = new HttpHeaders(Header);\n\n    //Preparacion de body\n    let body = {\n      token: await this.storage.get('token'),\n      id_servicio: p_id_servicio\n    }\n\n    let url = `${WEB_SERVICE}api/entregas/realizarEntrega`\n    return await this.Pro_http.post(url, body, { headers }).toPromise()\n  }\n}\n"],"sourceRoot":""}