{"version":3,"sources":["webpack:///./src/app/Pages/entregas/entregas.module.ts","webpack:///./src/app/Pages/entregas/entregas.page.html","webpack:///./src/app/Pages/entregas/entregas.page.scss","webpack:///./src/app/Pages/entregas/entregas.page.ts","webpack:///./src/app/Services/entregas.service.ts"],"names":[],"mappings":"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","file":"Pages-entregas-entregas-module.js","sourcesContent":["import { ComponentsModule } from '../../components/components.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PipesModule } from '../../Pipe/pipes.module';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EntregasPage } from './entregas.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EntregasPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PipesModule,\n    RouterModule.forChild(routes),\n    ComponentsModule\n  ],\n  declarations: [EntregasPage]\n})\nexport class EntregasPageModule {}\n","module.exports = \"<app-header-in titulo=\\\"Entrega\\\"></app-header-in>\\n<ion-content class=\\\"contenedor\\\">\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n  <ion-refresher-content  pullingIcon=\\\"arrow-dropdown\\\"\\n                          pullingText=\\\"Hale para recargar\\\"\\n                          refreshingSpinner=\\\"circles\\\"\\n                          refreshingText=\\\"Recargando...\\\"></ion-refresher-content>\\n  </ion-refresher>\\n  <ion-card class=\\\"car\\\" *ngFor=\\\"let item of servicios\\\">\\n    <ion-item class=\\\"car-head\\\" lines=\\\"none\\\">\\n      <ion-icon name=\\\"md-basket\\\" slot=\\\"start\\\"></ion-icon>\\n      <p>{{item.descripcion}}</p>\\n    </ion-item>\\n    <ion-card-content>\\n      <ion-chip *ngFor=\\\"let item_productos of item.productos\\\">\\n        <ion-avatar>\\n          <img [src]=\\\"item_productos.fotografia | domSanitizer\\\">\\n        </ion-avatar>\\n        <ion-label>{{item_productos.nombre}} &nbsp;</ion-label>\\n        <ion-badge color=\\\"medium\\\" *ngIf=\\\"item_productos.id_tipo_consumo == 1\\\">{{item_productos.cantidad}}</ion-badge>\\n        <ion-badge color=\\\"medium\\\" *ngIf=\\\"item_productos.id_tipo_consumo == 2\\\">{{item_productos.porcentaje}}%</ion-badge>\\n      </ion-chip>\\n    </ion-card-content>\\n    <div class=\\\"center-boton\\\">\\n      <ion-button expand=\\\"full\\\"\\n                  color=\\\"primary\\\"\\n                  shape=\\\"round\\\"\\n                  (click)=\\\"entregarServicio(item.id_servicio)\\\"\\n                  class=\\\"boton\\\">\\n                  Entregar<ion-label class=\\\"precio\\\">&nbsp;L. {{item.precio}}</ion-label>\\n                  <ion-icon name=\\\"arrow-round-forward\\\" slot=\\\"end\\\"></ion-icon>\\n      </ion-button>\\n    </div>\\n  </ion-card>\\n</ion-content>\\n\"","module.exports = \".car {\\n  border: solid 1px #cacaca;\\n  --background: white; }\\n\\n.precio {\\n  font-size: 1.4em;\\n  color: #52f450;\\n  font-weight: bold; }\\n\\n.center-boton {\\n  text-align: center; }\\n\\n.car-head {\\n  font-size: 1.1rem;\\n  font-weight: bold;\\n  color: #6e6368;\\n  border-top: solid 4px #3880ff; }\\n\\n@media (min-width: 600px) {\\n  .boton {\\n    width: 45%;\\n    float: right; } }\\n\\n@media (min-width: 700px) {\\n  .boton {\\n    width: 33%;\\n    float: right; } }\\n\\n@media (min-width: 900px) {\\n  .boton {\\n    width: 25%;\\n    float: right; } }\\n\\n@media (min-width: 1100px) {\\n  .boton {\\n    width: 20%;\\n    float: right; } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mYWJpYW4vRG9jdW1lbnRzL2JvZGVnaW4vYXBwL3NyYy9hcHAvUGFnZXMvZW50cmVnYXMvZW50cmVnYXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBO0VBQ0UseUJBQXlCO0VBQ3pCLG1CQUFhLEVBQUE7O0FBR2Y7RUFDRSxnQkFBZ0I7RUFDaEIsY0FBYztFQUNkLGlCQUFpQixFQUFBOztBQU9uQjtFQUNFLGtCQUFrQixFQUFBOztBQUdwQjtFQUNFLGlCQUFpQjtFQUNqQixpQkFBaUI7RUFDakIsY0FBYztFQUNkLDZCQUE2QixFQUFBOztBQUcvQjtFQUNFO0lBQ0UsVUFBVTtJQUNWLFlBQVksRUFBQSxFQUNiOztBQUVIO0VBQ0U7SUFDRSxVQUFVO0lBQ1YsWUFBWSxFQUFBLEVBQ2I7O0FBRUg7RUFDRTtJQUNFLFVBQVU7SUFDVixZQUFZLEVBQUEsRUFDYjs7QUFFSDtFQUNFO0lBQ0UsVUFBVTtJQUNWLFlBQVksRUFBQSxFQUNiIiwiZmlsZSI6InNyYy9hcHAvUGFnZXMvZW50cmVnYXMvZW50cmVnYXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4uY29udGVuZWRvcntcbiAgLy8tLWJhY2tncm91bmQ6I2UwZTBlMDtcbn1cblxuLmNhcntcbiAgYm9yZGVyOiBzb2xpZCAxcHggI2NhY2FjYTtcbiAgLS1iYWNrZ3JvdW5kOiB3aGl0ZTtcbn1cblxuLnByZWNpb3tcbiAgZm9udC1zaXplOiAxLjRlbTtcbiAgY29sb3I6ICM1MmY0NTA7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uYm90b257XG5cbn1cblxuLmNlbnRlci1ib3RvbntcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uY2FyLWhlYWR7XG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6ICM2ZTYzNjg7XG4gIGJvcmRlci10b3A6IHNvbGlkIDRweCAjMzg4MGZmO1xufVxuXG5AbWVkaWEgKG1pbi13aWR0aDogNjAwcHgpIHtcbiAgLmJvdG9ue1xuICAgIHdpZHRoOiA0NSU7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICB9XG59XG5AbWVkaWEgKG1pbi13aWR0aDogNzAwcHgpIHtcbiAgLmJvdG9ue1xuICAgIHdpZHRoOiAzMyU7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICB9XG59XG5AbWVkaWEgKG1pbi13aWR0aDogOTAwcHgpIHtcbiAgLmJvdG9ue1xuICAgIHdpZHRoOiAyNSU7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICB9XG59XG5AbWVkaWEgKG1pbi13aWR0aDogMTEwMHB4KSB7XG4gIC5ib3RvbntcbiAgICB3aWR0aDogMjAlO1xuICAgIGZsb2F0OiByaWdodDtcbiAgfVxufVxuIl19 */\"","import { Component, OnInit } from '@angular/core';\nimport { EntregasService } from '../../Services/entregas.service';\nimport { Storage } from '@ionic/storage';\nimport { ToastController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-entregas',\n  templateUrl: './entregas.page.html',\n  styleUrls: ['./entregas.page.scss'],\n})\nexport class EntregasPage implements OnInit {\n\n  servicios = []\n\n  constructor(private Pro_entregas:EntregasService,\n              private storage:Storage,\n              public toastController: ToastController) { }\n\n  ngOnInit() {\n    this.storage.get('token').then(token=>{\n      this.Pro_entregas.getSetvicios(token).subscribe(data=>{\n        this.servicios = data\n      })\n    })\n  }\n\n  async doRefresh(event) {\n    this.storage.get('token').then(token=>{\n      this.Pro_entregas.getSetvicios(token).subscribe(data=>{\n        this.servicios = data\n        event.target.complete();\n      }, err=>{\n        event.target.complete();\n      })\n    })\n  }\n\n  async entregarServicio(p_id_servicio){\n    let result = await this.Pro_entregas.realizarEntrega(p_id_servicio);\n    console.log(result)\n    if (result==false) {\n      await this.showToast('El inventario no es sufuciente', 4000)\n    }\n    else{\n      await this.showToast('Entrega realizada con exito', 1500)\n    }\n  }\n\n  async showToast(p_mensaje, p_duration=2000){\n    const toast = await this.toastController.create({\n      message: p_mensaje,\n      duration: p_duration,\n      position: 'middle',\n      showCloseButton: true,\n      closeButtonText: 'Cerrar'\n    });\n    toast.present();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders }  from \"@angular/common/http\";\nimport { Header, WEB_SERVICE, isApp } from '../Config/configuration';\nimport { map } from 'rxjs/operators';\nimport { Storage } from '@ionic/storage'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EntregasService {\n\n  constructor(private Pro_http:HttpClient,\n              private storage:Storage) { }\n\n  getSetvicios(p_token){\n    //Preparacion de header\n    const headers = new HttpHeaders(Header);\n\n    //Preparacion de body\n    let body = {\n      token: p_token\n    }\n\n    let url = `${WEB_SERVICE}api/entregas/getServicios`\n    return this.Pro_http.post(url, body, { headers }).pipe(map((result: any) => {\n      return result;\n    }));\n  }\n\n  async realizarEntrega(p_id_servicio){\n    //Preparacion de header\n    const headers = new HttpHeaders(Header);\n\n    //Preparacion de body\n    let body = {\n      token: await this.storage.get('token'),\n      id_servicio: p_id_servicio\n    }\n\n    let url = `${WEB_SERVICE}api/entregas/realizarEntrega`\n    return await this.Pro_http.post(url, body, { headers }).toPromise()\n  }\n}\n"],"sourceRoot":""}