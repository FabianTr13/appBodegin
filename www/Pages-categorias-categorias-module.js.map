{"version":3,"sources":["webpack:///./src/app/Pages/categorias/categorias.module.ts","webpack:///./src/app/Pages/categorias/categorias.page.html","webpack:///./src/app/Pages/categorias/categorias.page.scss","webpack:///./src/app/Pages/categorias/categorias.page.ts"],"names":[],"mappings":"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","file":"Pages-categorias-categorias-module.js","sourcesContent":["import { ComponentsModule } from '../../components/components.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CategoriasPage } from './categorias.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CategoriasPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    ComponentsModule\r\n  ],\r\n  declarations: [CategoriasPage]\r\n})\r\nexport class CategoriasPageModule {}\r\n","module.exports = \"<app-header-in titulo=\\\"CategorÃ­as\\\"></app-header-in>\\r\\n<ion-content>\\r\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\r\\n    <ion-refresher-content  pullingIcon=\\\"arrow-dropdown\\\"\\r\\n                            pullingText=\\\"Hale para recargar\\\"\\r\\n                            refreshingSpinner=\\\"circles\\\"\\r\\n                            refreshingText=\\\"Recargando...\\\"></ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n  <div class=\\\"busqueda\\\">\\r\\n    <form #form=\\\"ngForm\\\">\\r\\n      <ion-grid>\\r\\n        <ion-row color=\\\"primary\\\" justify-content-center>\\r\\n          <ion-col>\\r\\n            <div #list>\\r\\n              <ion-item>\\r\\n                <ion-icon slot=\\\"end\\\"\\r\\n                          name=\\\"search\\\"\\r\\n                          color=\\\"#f4f4f4\\\">\\r\\n                </ion-icon>\\r\\n                <ion-input type=\\\"text\\\"\\r\\n                           placeholder=\\\"Buscar\\\"\\r\\n                           clearInput\\r\\n                           [(ngModel)]='textSearch'\\r\\n                           (ionChange)='busqueda($event.target.value)'\\r\\n                           (input)='busqueda($event.target.value)'\\r\\n                           >\\r\\n                </ion-input>\\r\\n              </ion-item>\\r\\n            </div>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </form>\\r\\n  </div>\\r\\n\\r\\n  <ion-list>\\r\\n    <ion-item-sliding *ngFor=\\\"let item of categorias\\\">\\r\\n      <ion-item-options side=\\\"start\\\">\\r\\n        <ion-item-option color=\\\"danger\\\"\\r\\n           (click)=\\\"categoriaDelete(item.id_categoria, item.descripcion)\\\">Eliminar<ion-icon slot=\\\"end\\\" name=\\\"trash\\\"></ion-icon>\\r\\n      </ion-item-option>\\r\\n      </ion-item-options>\\r\\n      <ion-item>\\r\\n        <ion-label>{{item.descripcion}}</ion-label>\\r\\n        <ion-icon slot=\\\"end\\\" name=\\\"create\\\" (click)=\\\"categoriaInsertUpdate(item.id_categoria, 'UPDATE', item.descripcion)\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n    </ion-item-sliding>\\r\\n  </ion-list>\\r\\n\\r\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" #fab>\\r\\n    <ion-fab-button (click)=\\\"categoriaInsertUpdate(null,'INSERT', '')\\\">\\r\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n</ion-content>\\r\\n\"","module.exports = \"ion-col div ion-item {\\n  --background: #3880ff;\\n  --color: #fff; }\\n  ion-col div ion-item ion-label {\\n    font-size: 1.5em !important; }\\n  .busqueda {\\n  background: #3880ff; }\\n  .footer {\\n  position: fixed;\\n  bottom: 20px;\\n  z-index: 100; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvUGFnZXMvY2F0ZWdvcmlhcy9DOlxcVXNlcnNcXEZhYmlhblxcRG9jdW1lbnRzXFxib2RlZ2luXFxhcHBCb2RlZ2luL3NyY1xcYXBwXFxQYWdlc1xcY2F0ZWdvcmlhc1xcY2F0ZWdvcmlhcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFHUSxxQkFBYTtFQUNiLGFBQVEsRUFBQTtFQUpoQjtJQU1VLDJCQUEyQixFQUFBO0VBS3JDO0VBQ0UsbUJBQW1CLEVBQUE7RUFHckI7RUFDRyxlQUFjO0VBQ2QsWUFBVztFQUNYLFlBQVksRUFBQSIsImZpbGUiOiJzcmMvYXBwL1BhZ2VzL2NhdGVnb3JpYXMvY2F0ZWdvcmlhcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29se1xyXG4gIGRpdntcclxuICAgIGlvbi1pdGVte1xyXG4gICAgICAgIC0tYmFja2dyb3VuZDogIzM4ODBmZjtcclxuICAgICAgICAtLWNvbG9yOiAjZmZmO1xyXG4gICAgICAgIGlvbi1sYWJlbHtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMS41ZW0gIWltcG9ydGFudDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbi5idXNxdWVkYXtcclxuICBiYWNrZ3JvdW5kOiAjMzg4MGZmO1xyXG59XHJcblxyXG4uZm9vdGVyIHtcclxuICAgcG9zaXRpb246Zml4ZWQ7XHJcbiAgIGJvdHRvbToyMHB4O1xyXG4gICB6LWluZGV4OiAxMDA7XHJcbn1cclxuIl19 */\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { isApp } from '../../Config/configuration';\r\nimport { Storage } from '@ionic/storage';\r\nimport { CategoriasService } from '../../Services/categorias.service';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { LoadingController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-categorias',\r\n  templateUrl: './categorias.page.html',\r\n  styleUrls: ['./categorias.page.scss'],\r\n})\r\nexport class CategoriasPage implements OnInit {\r\n  constructor(private Pro_categorias:CategoriasService,\r\n              private storage:Storage,\r\n              public alertController: AlertController,\r\n              public loadingController: LoadingController) { }\r\n\r\n  categorias;\r\n  categorias_backup;\r\n  textSearch = ''\r\n\r\n  @ViewChild('list') el:ElementRef;\r\n\r\n  ngOnInit() {\r\n    this.storage.get('token').then(token =>{\r\n      this.Pro_categorias.obtenerCategorias(token).subscribe(data=>{\r\n        this.categorias = this.categorias_backup = data;\r\n      })\r\n    })\r\n  }\r\n\r\n  async categoriaInsertUpdate(p_id_categoria, p_accion, p_value = null) {\r\n    let header = p_accion == 'INSERT' ? 'Nueva Categoria' : 'Actualizar Categoria'\r\n    let boton = p_accion == 'INSERT' ? 'Crear' : 'Actualizar'\r\n\r\n    const alert = await this.alertController.create({\r\n      header: header,\r\n      inputs: [\r\n        {\r\n          name: 'input',\r\n          type: 'text',\r\n          value: p_value,\r\n          placeholder: 'Nombre'\r\n        }\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n          cssClass: 'secondary'\r\n        }, {\r\n          text: boton,\r\n          handler: async data=> {\r\n            await this.Pro_categorias.InsertUpdateDeleteCategoria(p_id_categoria, data.input, p_accion).catch(err=>{});\r\n            await this.refreshUpdate();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async categoriaDelete(p_id_categoria, p_descripcion) {\r\n    const alert = await this.alertController.create({\r\n      header: 'Eliminar Categoria',\r\n      message: `Eliminar ${p_descripcion}`,\r\n      buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => {}\r\n        }, {\r\n          text: 'Eliminar',\r\n          handler: async data => {\r\n            await this.Pro_categorias.InsertUpdateDeleteCategoria(p_id_categoria, data, 'DELETE');\r\n            await this.refreshUpdate();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async refreshUpdate(){\r\n    this.categorias = this.categorias_backup = await this.Pro_categorias.obtenerCategoriasAsync()\r\n    let event = new MouseEvent('click', {bubbles: false});\r\n    await this.el.nativeElement.dispatchEvent(event);\r\n    this.textSearch = 'HOLA'\r\n  }\r\n\r\n  async doRefresh(event) {\r\n    await this.refreshUpdate()\r\n    event.target.complete();\r\n }\r\n\r\n async busqueda(p_busqueda){\r\n   this.categorias = []\r\n   this.categorias_backup.forEach(variable => {\r\n       if(variable.descripcion.toLowerCase().includes(p_busqueda.toLowerCase())){\r\n         this.categorias.push(variable)\r\n       }\r\n   });\r\n }\r\n}\r\n"],"sourceRoot":""}