{"version":3,"sources":["webpack:///./src/app/Pages/categorias/categorias.module.ts","webpack:///./src/app/Pages/categorias/categorias.page.html","webpack:///./src/app/Pages/categorias/categorias.page.scss","webpack:///./src/app/Pages/categorias/categorias.page.ts"],"names":[],"mappings":"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","file":"Pages-categorias-categorias-module.js","sourcesContent":["import { ComponentsModule } from '../../components/components.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CategoriasPage } from './categorias.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CategoriasPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule\n  ],\n  declarations: [CategoriasPage]\n})\nexport class CategoriasPageModule {}\n","module.exports = \"<app-header-in titulo=\\\"CategorÃ­as\\\"></app-header-in>\\n<ion-content>\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content  pullingIcon=\\\"arrow-dropdown\\\"\\n                            pullingText=\\\"Hale para recargar\\\"\\n                            refreshingSpinner=\\\"circles\\\"\\n                            refreshingText=\\\"Recargando...\\\"></ion-refresher-content>\\n  </ion-refresher>\\n  <div class=\\\"busqueda\\\">\\n    <form #form=\\\"ngForm\\\">\\n      <ion-grid>\\n        <ion-row color=\\\"primary\\\" justify-content-center>\\n          <ion-col>\\n            <div #list>\\n              <ion-item>\\n                <ion-icon slot=\\\"end\\\"\\n                          name=\\\"search\\\"\\n                          color=\\\"#f4f4f4\\\">\\n                </ion-icon>\\n                <ion-input type=\\\"text\\\"\\n                           name=\\\"smartSearch\\\"\\n                           placeholder=\\\"Buscar\\\"\\n                           clearInput\\n                           [(ngModel)]=\\\"textSearch\\\"\\n                           (ionChange)='busqueda($event.target.value)'\\n                           (input)='busqueda($event.target.value)'\\n                           >\\n                </ion-input>\\n              </ion-item>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </form>\\n  </div>\\n\\n  <ion-list *ngIf=\\\"categorias.length > 0\\\">\\n    <ion-item-sliding *ngFor=\\\"let item of categorias\\\">\\n      <ion-item-options side=\\\"start\\\">\\n        <ion-item-option color=\\\"danger\\\"\\n           (click)=\\\"categoriaDelete(item.id_categoria, item.descripcion)\\\">Eliminar<ion-icon slot=\\\"end\\\" name=\\\"trash\\\"></ion-icon>\\n      </ion-item-option>\\n      </ion-item-options>\\n      <ion-item>\\n        <ion-label>{{item.descripcion}}</ion-label>\\n        <ion-icon slot=\\\"end\\\" name=\\\"create\\\" (click)=\\\"categoriaInsertUpdate(item.id_categoria, 'UPDATE', item.descripcion)\\\"></ion-icon>\\n      </ion-item>\\n    </ion-item-sliding>\\n  </ion-list>\\n\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" #fab>\\n    <ion-fab-button (click)=\\\"categoriaInsertUpdate(null,'INSERT', '')\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n\"","module.exports = \"ion-col div ion-item {\\n  --background: #3880ff;\\n  --color: #fff; }\\n  ion-col div ion-item ion-label {\\n    font-size: 1.5em !important; }\\n  .busqueda {\\n  background: #3880ff; }\\n  .footer {\\n  position: fixed;\\n  bottom: 20px;\\n  z-index: 100; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mYWJpYW4vRG9jdW1lbnRzL2JvZGVnaW4vYXBwL3NyYy9hcHAvUGFnZXMvY2F0ZWdvcmlhcy9jYXRlZ29yaWFzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUdRLHFCQUFhO0VBQ2IsYUFBUSxFQUFBO0VBSmhCO0lBTVUsMkJBQTJCLEVBQUE7RUFLckM7RUFDRSxtQkFBbUIsRUFBQTtFQUdyQjtFQUNHLGVBQWM7RUFDZCxZQUFXO0VBQ1gsWUFBWSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvUGFnZXMvY2F0ZWdvcmlhcy9jYXRlZ29yaWFzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb2x7XG4gIGRpdntcbiAgICBpb24taXRlbXtcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiAjMzg4MGZmO1xuICAgICAgICAtLWNvbG9yOiAjZmZmO1xuICAgICAgICBpb24tbGFiZWx7XG4gICAgICAgICAgZm9udC1zaXplOiAxLjVlbSAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgfVxuICB9XG59XG4uYnVzcXVlZGF7XG4gIGJhY2tncm91bmQ6ICMzODgwZmY7XG59XG5cbi5mb290ZXIge1xuICAgcG9zaXRpb246Zml4ZWQ7XG4gICBib3R0b206MjBweDtcbiAgIHotaW5kZXg6IDEwMDtcbn1cbiJdfQ== */\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { isApp } from '../../Config/configuration';\nimport { Storage } from '@ionic/storage';\nimport { CategoriasService } from '../../Services/categorias.service';\nimport { AlertController } from '@ionic/angular';\nimport { LoadingController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-categorias',\n  templateUrl: './categorias.page.html',\n  styleUrls: ['./categorias.page.scss'],\n})\nexport class CategoriasPage implements OnInit {\n  constructor(private Pro_categorias:CategoriasService,\n              private storage:Storage,\n              public alertController: AlertController,\n              public loadingController: LoadingController) { }\n\n  categorias=[];\n  categorias_backup=[];\n  textSearch = ''\n\n  @ViewChild('list') el:ElementRef;\n\n  ngOnInit() {\n    this.storage.get('token').then(token =>{\n      this.Pro_categorias.obtenerCategorias(token).subscribe(data=>{\n        this.categorias = this.categorias_backup = data;\n      })\n    })\n  }\n\n  async categoriaInsertUpdate(p_id_categoria, p_accion, p_value = null) {\n    let header = p_accion == 'INSERT' ? 'Nueva Categoria' : 'Actualizar Categoria'\n    let boton = p_accion == 'INSERT' ? 'Crear' : 'Actualizar'\n\n    const alert = await this.alertController.create({\n      header: header,\n      inputs: [\n        {\n          name: 'input',\n          type: 'text',\n          value: p_value,\n          placeholder: 'Nombre'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancelar',\n          cssClass: 'secondary'\n        }, {\n          text: boton,\n          handler: async data=> {\n            await this.Pro_categorias.InsertUpdateDeleteCategoria(p_id_categoria,\n              data.input,\n              p_accion\n            ).catch(err=>{});\n            await this.refreshUpdate();\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  async categoriaDelete(p_id_categoria, p_descripcion) {\n    const alert = await this.alertController.create({\n      header: 'Eliminar Categoria',\n      message: `Eliminar ${p_descripcion}`,\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {}\n        }, {\n          text: 'Eliminar',\n          handler: async data => {\n            await this.Pro_categorias.InsertUpdateDeleteCategoria(p_id_categoria,\n              data,\n              'DELETE'\n            );\n            await this.refreshUpdate();\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  async refreshUpdate(){\n    let categorias_result = await this.Pro_categorias.obtenerCategoriasAsync()\n    this.categorias = this.categorias_backup = Array.isArray(categorias_result) ? categorias_result : []\n    let event = new MouseEvent('click', {bubbles: false});\n    await this.el.nativeElement.dispatchEvent(event);\n    this.textSearch = ''\n  }\n\n  async doRefresh(event) {\n    await this.refreshUpdate()\n    event.target.complete();\n }\n\n async busqueda(p_busqueda){\n   this.categorias = []\n   this.categorias_backup.forEach(variable => {\n       if(variable.descripcion.toLowerCase().includes(p_busqueda.toLowerCase())){\n         this.categorias.push(variable)\n       }\n   });\n }\n}\n"],"sourceRoot":""}