{"version":3,"sources":["webpack:///./src/app/Modals/sucursal-create/sucursal-create.module.ts","webpack:///./src/app/Modals/sucursal-create/sucursal-create.page.html","webpack:///./src/app/Modals/sucursal-create/sucursal-create.page.scss","webpack:///./src/app/Modals/sucursal-create/sucursal-create.page.ts","webpack:///./src/app/Pages/sucursales/sucursales.module.ts","webpack:///./src/app/Pages/sucursales/sucursales.page.html","webpack:///./src/app/Pages/sucursales/sucursales.page.scss","webpack:///./src/app/Pages/sucursales/sucursales.page.ts"],"names":[],"mappings":"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","file":"Pages-sucursales-sucursales-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { SucursalCreatePage } from './sucursal-create.page';\nimport { ComponentsModule } from '../../components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentsModule\n  ],\n  declarations: [SucursalCreatePage],\n  exports:[\n\n  ]\n})\nexport class SucursalCreatePageModule {}\n","module.exports = \"<app-header-modal *ngIf=\\\"accion=='INSERT'\\\"\\n                  titulo=\\\"Nueva Sucursal\\\">\\n</app-header-modal>\\n<app-header-modal *ngIf=\\\"accion=='UPDATE'\\\"\\n                  titulo=\\\"Editar Sucursal\\\">\\n</app-header-modal>\\n<ion-content>\\n  <form #form=\\\"ngForm\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col>\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Nombre</ion-label>\\n            <ion-input name=\\\"descripcion\\\"\\n                       type=\\\"text\\\"\\n                       [(ngModel)]=\\\"sucursal.descripcion\\\"\\n                       required>\\n            </ion-input>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Nombre Corto</ion-label>\\n            <ion-input name=\\\"nombre_corto\\\"\\n                       type=\\\"text\\\"\\n                       [(ngModel)]=\\\"sucursal.nombre_corto\\\"\\n                       required>\\n             </ion-input>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n  <div text-center class=\\\"separador\\\">\\n    <h3>Usuarios &nbsp;&nbsp;<ion-icon name=\\\"person-add\\\"></ion-icon></h3>\\n  </div>\\n  <ion-list class=\\\"gridBorder\\\">\\n    <ion-item *ngFor=\\\"let item of usuarios\\\">\\n      <ion-label>{{item.nombre}}</ion-label>\\n      <ion-checkbox [(ngModel)]=\\\"item.seleccionado\\\"\\n                    color=\\\"primary\\\"\\n                    checked=\\\"{{item.seleccionado}}\\\"\\n                    name=\\\"seleccionado\\\"\\n                    slot=\\\"end\\\">\\n      </ion-checkbox>\\n    </ion-item>\\n  </ion-list>\\n  <ion-item lines=\\\"none\\\">\\n    <ion-button class=\\\"button\\\"\\n                [disabled]=\\\"form.invalid\\\"\\n                color=\\\"primary\\\"\\n                size=\\\"default\\\"\\n                (click)=\\\"InsertUpdateSucursal()\\\"\\n                shape=\\\"round\\\">Guardar<ion-icon slot=\\\"end\\\" name=\\\"save\\\"></ion-icon></ion-button>\\n\\n    <ion-button class=\\\"buttonExit\\\"\\n                (click)=\\\"Salir()\\\"\\n                color=\\\"medium\\\"\\n                size=\\\"default\\\"\\n                shape=\\\"round\\\">Cancelar<ion-icon slot=\\\"end\\\" name=\\\"exit\\\"></ion-icon></ion-button>\\n  </ion-item>\\n</ion-content>\\n\"","module.exports = \"ion-item {\\n  --color: #6e6368; }\\n\\nion-content form ion-grid ion-row ion-item ion-label {\\n  --position:floating; }\\n\\n.separador {\\n  background: #3880ff;\\n  color: #FFFFFF; }\\n\\n.gridBorder {\\n  margin-bottom: 35px; }\\n\\n.icon {\\n  height: 100%;\\n  display: block;\\n  vertical-align: middle; }\\n\\n.button {\\n  position: fixed;\\n  left: 0;\\n  bottom: 50px;\\n  right: 0;\\n  z-index: 500; }\\n\\n.buttonExit {\\n  position: fixed;\\n  left: 0;\\n  bottom: 5px;\\n  right: 0;\\n  z-index: 500; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mYWJpYW4vRG9jdW1lbnRzL2JvZGVnaW4vYXBwL3NyYy9hcHAvTW9kYWxzL3N1Y3Vyc2FsLWNyZWF0ZS9zdWN1cnNhbC1jcmVhdGUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQVEsRUFBQTs7QUFHWjtFQU1ZLG1CQUFXLEVBQUE7O0FBUXZCO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWMsRUFBQTs7QUFFaEI7RUFDRSxtQkFBbUIsRUFBQTs7QUFFckI7RUFDQyxZQUFZO0VBQ1osY0FBYztFQUNkLHNCQUFzQixFQUFBOztBQUd2QjtFQUNFLGVBQWU7RUFDZixPQUFPO0VBQ1AsWUFBWTtFQUNaLFFBQVE7RUFDUixZQUFZLEVBQUE7O0FBR2Q7RUFDRSxlQUFlO0VBQ2YsT0FBTztFQUNQLFdBQVc7RUFDWCxRQUFRO0VBQ1IsWUFBWSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvTW9kYWxzL3N1Y3Vyc2FsLWNyZWF0ZS9zdWN1cnNhbC1jcmVhdGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWl0ZW17XG4gICAgLS1jb2xvcjogIzZlNjM2ODtcbn1cblxuaW9uLWNvbnRlbnR7XG4gIGZvcm17XG4gICAgaW9uLWdyaWR7XG4gICAgICBpb24tcm93e1xuICAgICAgICBpb24taXRlbXtcbiAgICAgICAgICBpb24tbGFiZWx7XG4gICAgICAgICAgICAtLXBvc2l0aW9uOmZsb2F0aW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4uc2VwYXJhZG9ye1xuICBiYWNrZ3JvdW5kOiAjMzg4MGZmO1xuICBjb2xvcjogI0ZGRkZGRjtcbn1cbi5ncmlkQm9yZGVye1xuICBtYXJnaW4tYm90dG9tOiAzNXB4O1xufVxuLmljb257XG4gaGVpZ2h0OiAxMDAlO1xuIGRpc3BsYXk6IGJsb2NrO1xuIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG59XG5cbi5idXR0b257XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgbGVmdDogMDtcbiAgYm90dG9tOiA1MHB4O1xuICByaWdodDogMDtcbiAgei1pbmRleDogNTAwO1xufVxuXG4uYnV0dG9uRXhpdHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBsZWZ0OiAwO1xuICBib3R0b206IDVweDtcbiAgcmlnaHQ6IDA7XG4gIHotaW5kZXg6IDUwMDtcbn1cbiJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { SucursalesService } from '../../Services/sucursales.service';\nimport { UserService } from '../../Services/user.service';\nimport { Storage } from '@ionic/storage';\n\n@Component({\n  selector: 'app-sucursal-create',\n  templateUrl: './sucursal-create.page.html',\n  styleUrls: ['./sucursal-create.page.scss'],\n})\nexport class SucursalCreatePage implements OnInit {\n\n  @Input() sucursal = {\n    id_sucursal:null,\n    descripcion:null,\n    nombre_corto:null\n  };\n  @Input() accion;\n  usuarios = [\n    {\n      id_usuario:null,\n      id_perfil:null,\n      usuario:null,\n      celular:null,\n      fecha_creado:null,\n      activo:null,\n      nombre:null,\n      seleccionado:null\n    }\n  ];\n\n  constructor(private Pro_sucursales: SucursalesService,\n              public modalController: ModalController,\n              private Pro_usuarios:UserService,\n              private storage: Storage) { }\n\n  ngOnInit() {\n    this.storage.get('token').then(token=>{\n      this.Pro_usuarios.getUsuariosList(token, this.sucursal.id_sucursal).subscribe(data=>{\n        this.usuarios = data;\n        console.log(data)\n      })\n    })\n  }\n\n  async InsertUpdateSucursal(){\n    this.Pro_sucursales.InserUpdateDeleteSucursal(this.sucursal.id_sucursal,\n      this.sucursal.descripcion,\n      this.sucursal.nombre_corto,\n      this.accion\n    )\n    console.log(this.usuarios)\n    await this.Pro_sucursales.insertSucursalUsuario(this.usuarios, this.sucursal.id_sucursal)\n    this.modalController.dismiss(this.sucursal);\n  }\n\n  async Salir(){\n    this.modalController.dismiss();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { ComponentsModule } from '../../components/components.module';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { SucursalesPage } from './sucursales.page';\nimport { SucursalCreatePage } from '../../Modals/sucursal-create/sucursal-create.page';\nimport { SucursalCreatePageModule } from '../../Modals/sucursal-create/sucursal-create.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SucursalesPage\n  }\n];\n\n@NgModule({\n  entryComponents:[\n    SucursalCreatePage\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SucursalCreatePageModule,\n    RouterModule.forChild(routes),\n    ComponentsModule,\n  ],\n  declarations: [SucursalesPage]\n})\nexport class SucursalesPageModule {}\n","module.exports = \"<app-header-in titulo=\\\"Sucursales\\\"></app-header-in>\\n<ion-content>\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content  pullingIcon=\\\"arrow-dropdown\\\"\\n                            pullingText=\\\"Hale para recargar\\\"\\n                            refreshingSpinner=\\\"circles\\\"\\n                            refreshingText=\\\"Recargando...\\\"></ion-refresher-content>\\n  </ion-refresher>\\n  <div class=\\\"busqueda\\\">\\n    <form #form=\\\"ngForm\\\">\\n      <ion-grid>\\n        <ion-row color=\\\"primary\\\" justify-content-center>\\n          <ion-col>\\n            <div #list>\\n              <ion-item>\\n                <ion-icon slot=\\\"end\\\"\\n                          name=\\\"search\\\"\\n                          color=\\\"#f4f4f4\\\">\\n                </ion-icon>\\n                <ion-input type=\\\"text\\\"\\n                           placeholder=\\\"Buscar\\\"\\n                           clearInput\\n                           [(ngModel)]='textSearch'\\n                           (ionChange)='busqueda($event.target.value)'\\n                           (input)='busqueda($event.target.value)'\\n                           >\\n                </ion-input>\\n              </ion-item>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </form>\\n  </div>\\n\\n  <ion-list>\\n    <ion-item-sliding *ngFor=\\\"let item of sucursales\\\">\\n      <ion-item-options side=\\\"start\\\">\\n        <ion-item-option color=\\\"danger\\\"\\n           (click)=\\\"SucursalDelete(item.id_sucursal, item.descripcion)\\\">Eliminar<ion-icon slot=\\\"end\\\" name=\\\"trash\\\"></ion-icon>\\n      </ion-item-option>\\n      </ion-item-options>\\n      <ion-item>\\n        <ion-label>{{item.nombre_corto | uppercase}} &nbsp;-&nbsp; {{item.descripcion}}\\n        </ion-label>\\n        <ion-icon slot=\\\"end\\\" name=\\\"create\\\" (click)=\\\"presentModal('UPDATE',item)\\\"></ion-icon>\\n      </ion-item>\\n    </ion-item-sliding>\\n  </ion-list>\\n\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" #fab>\\n    <ion-fab-button (click)=\\\"presentModal('INSERT')\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n</ion-content>\\n\"","module.exports = \"ion-col div ion-item {\\n  --background: #3880ff;\\n  --color: #fff; }\\n  ion-col div ion-item ion-label {\\n    font-size: 1.5em !important; }\\n  .busqueda {\\n  background: #3880ff; }\\n  .footer {\\n  position: fixed;\\n  bottom: 20px;\\n  z-index: 100; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mYWJpYW4vRG9jdW1lbnRzL2JvZGVnaW4vYXBwL3NyYy9hcHAvUGFnZXMvc3VjdXJzYWxlcy9zdWN1cnNhbGVzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUdRLHFCQUFhO0VBQ2IsYUFBUSxFQUFBO0VBSmhCO0lBTVUsMkJBQTJCLEVBQUE7RUFLckM7RUFDRSxtQkFBbUIsRUFBQTtFQUdyQjtFQUNHLGVBQWM7RUFDZCxZQUFXO0VBQ1gsWUFBWSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvUGFnZXMvc3VjdXJzYWxlcy9zdWN1cnNhbGVzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb2x7XG4gIGRpdntcbiAgICBpb24taXRlbXtcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiAjMzg4MGZmO1xuICAgICAgICAtLWNvbG9yOiAjZmZmO1xuICAgICAgICBpb24tbGFiZWx7XG4gICAgICAgICAgZm9udC1zaXplOiAxLjVlbSAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgfVxuICB9XG59XG4uYnVzcXVlZGF7XG4gIGJhY2tncm91bmQ6ICMzODgwZmY7XG59XG5cbi5mb290ZXIge1xuICAgcG9zaXRpb246Zml4ZWQ7XG4gICBib3R0b206MjBweDtcbiAgIHotaW5kZXg6IDEwMDtcbn1cbiJdfQ== */\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { isApp } from '../../Config/configuration';\nimport { Storage } from '@ionic/storage';\nimport { AlertController } from '@ionic/angular';\nimport { LoadingController } from '@ionic/angular';\nimport { SucursalesService } from '../../Services/sucursales.service';\nimport { ToastController } from '@ionic/angular';\nimport { ModalController } from '@ionic/angular';\nimport { SucursalCreatePage } from '../../Modals/sucursal-create/sucursal-create.page';\n\n@Component({\n  selector: 'app-sucursales',\n  templateUrl: './sucursales.page.html',\n  styleUrls: ['./sucursales.page.scss'],\n})\nexport class SucursalesPage implements OnInit {\n\n  sucursales;\n  sucursales_backup;\n  textSearch = ''\n  @ViewChild('list') el:ElementRef;\n\n  constructor(private Pro_sucursales:SucursalesService,\n              private storage:Storage,\n              public modalController: ModalController,\n              public alertController: AlertController,\n              public loadingController: LoadingController,\n              public toastController: ToastController\n            ) { }\n\n  ngOnInit() {\n    this.storage.get('token').then(token =>{\n      this.Pro_sucursales.obtenerSucursales(token).subscribe(data=>{\n        this.sucursales = this.sucursales_backup = data;\n      })\n    })\n  }\n\n  async presentModal(p_accion, p_sucursal=undefined) {\n\n    let suc = {\n      id_sucursal:p_sucursal ? p_sucursal.id_sucursal : null,\n      descripcion: p_sucursal ? p_sucursal.descripcion : null,\n      nombre_corto: p_sucursal ? p_sucursal.nombre_corto : null\n    }\n\n    const modal = await this.modalController.create({\n      component: SucursalCreatePage,\n      componentProps: {\n        'sucursal': suc,\n        'accion':p_accion\n      }\n    });\n    await modal.present();\n    let data  = await modal.onDidDismiss()\n\n    if (data.data != undefined) {\n      this.refreshUpdate();\n    }\n  }\n\n  async SucursalDelete(p_id_sucursal, p_descripcion) {\n    const alert = await this.alertController.create({\n      header: 'Eliminar Sucursal',\n      message: `Eliminar ${p_descripcion}`,\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {}\n        }, {\n          text: 'Eliminar',\n          handler: async data => {\n            await this.Pro_sucursales.InserUpdateDeleteSucursal(p_id_sucursal, data,'', 'DELETE');\n            await this.refreshUpdate();\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  async refreshUpdate(){\n    console.log('caimos al refresh')\n    this.sucursales = this.sucursales_backup = await this.Pro_sucursales.obtenerSucursalesAsync()\n    let event = new MouseEvent('click', {bubbles: false});\n    await this.el.nativeElement.dispatchEvent(event);\n    this.textSearch = null\n  }\n\n  async doRefresh(event) {\n    await this.refreshUpdate()\n    event.target.complete();\n  }\n\n async busqueda(p_busqueda){\n   this.sucursales = []\n   this.sucursales_backup.forEach(variable => {\n       if(variable.descripcion.toLowerCase().includes(p_busqueda.toLowerCase())){\n         this.sucursales.push(variable)\n       }\n   });\n }\n}\n"],"sourceRoot":""}