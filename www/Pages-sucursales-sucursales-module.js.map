{"version":3,"sources":["webpack:///./src/app/Modals/sucursal-create/sucursal-create.module.ts","webpack:///./src/app/Modals/sucursal-create/sucursal-create.page.html","webpack:///./src/app/Modals/sucursal-create/sucursal-create.page.scss","webpack:///./src/app/Modals/sucursal-create/sucursal-create.page.ts","webpack:///./src/app/Pages/sucursales/sucursales.module.ts","webpack:///./src/app/Pages/sucursales/sucursales.page.html","webpack:///./src/app/Pages/sucursales/sucursales.page.scss","webpack:///./src/app/Pages/sucursales/sucursales.page.ts"],"names":[],"mappings":"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","file":"Pages-sucursales-sucursales-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { SucursalCreatePage } from './sucursal-create.page';\r\nimport { ComponentsModule } from '../../components/components.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ComponentsModule\r\n  ],\r\n  declarations: [SucursalCreatePage],\r\n  exports:[\r\n\r\n  ]\r\n})\r\nexport class SucursalCreatePageModule {}\r\n","module.exports = \"<app-header-modal *ngIf=\\\"accion=='INSERT'\\\"\\r\\n                  titulo=\\\"Nueva Sucursal\\\">\\r\\n</app-header-modal>\\r\\n<app-header-modal *ngIf=\\\"accion=='UPDATE'\\\"\\r\\n                  titulo=\\\"Editar Sucursal\\\">\\r\\n</app-header-modal>\\r\\n<ion-content>\\r\\n  <form #form=\\\"ngForm\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"floating\\\">Nombre</ion-label>\\r\\n            <ion-input name=\\\"descripcion\\\"\\r\\n                       type=\\\"text\\\"\\r\\n                       [(ngModel)]=\\\"sucursal.descripcion\\\"\\r\\n                       required>\\r\\n            </ion-input>\\r\\n          </ion-item>\\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"floating\\\">Nombre Corto</ion-label>\\r\\n            <ion-input name=\\\"nombre_corto\\\"\\r\\n                       type=\\\"text\\\"\\r\\n                       [(ngModel)]=\\\"sucursal.nombre_corto\\\"\\r\\n                       minlength=\\\"3\\\"\\r\\n                       maxlength=\\\"3\\\"\\r\\n                       required>\\r\\n             </ion-input>\\r\\n          </ion-item>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  </form>\\r\\n  <div text-center class=\\\"separador\\\">\\r\\n    <h3>Usuarios &nbsp;&nbsp;<ion-icon name=\\\"person-add\\\"></ion-icon></h3>\\r\\n  </div>\\r\\n  <ion-list class=\\\"gridBorder\\\">\\r\\n    <ion-item *ngFor=\\\"let item of usuarios\\\">\\r\\n      <ion-label>{{item.nombre}}</ion-label>\\r\\n      <ion-checkbox [(ngModel)]=\\\"item.seleccionado\\\"\\r\\n                    color=\\\"primary\\\"\\r\\n                    checked=\\\"{{item.seleccionado}}\\\"\\r\\n                    name=\\\"seleccionado\\\"\\r\\n                    mode=\\\"ios\\\"\\r\\n                    slot=\\\"end\\\">\\r\\n      </ion-checkbox>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n  <ion-item lines=\\\"none\\\">\\r\\n    <ion-button class=\\\"button\\\"\\r\\n                [disabled]=\\\"form.invalid\\\"\\r\\n                color=\\\"primary\\\"\\r\\n                size=\\\"default\\\"\\r\\n                (click)=\\\"InsertUpdateSucursal()\\\"\\r\\n                shape=\\\"round\\\">Guardar<ion-icon slot=\\\"end\\\" name=\\\"save\\\"></ion-icon></ion-button>\\r\\n\\r\\n    <ion-button class=\\\"buttonExit\\\"\\r\\n                (click)=\\\"Salir()\\\"\\r\\n                color=\\\"medium\\\"\\r\\n                size=\\\"default\\\"\\r\\n                shape=\\\"round\\\">Cancelar<ion-icon slot=\\\"end\\\" name=\\\"exit\\\"></ion-icon></ion-button>\\r\\n  </ion-item>\\r\\n</ion-content>\\r\\n\"","module.exports = \"ion-item {\\n  --color: #6e6368; }\\n\\nion-content form ion-grid ion-row ion-item ion-label {\\n  --position:floating; }\\n\\n.separador {\\n  background: #3880ff;\\n  color: #FFFFFF; }\\n\\n.gridBorder {\\n  margin-bottom: 35px; }\\n\\n.icon {\\n  height: 100%;\\n  display: block;\\n  vertical-align: middle; }\\n\\n.button {\\n  position: fixed;\\n  left: 0;\\n  bottom: 50px;\\n  right: 0;\\n  z-index: 500; }\\n\\n.buttonExit {\\n  position: fixed;\\n  left: 0;\\n  bottom: 5px;\\n  right: 0;\\n  z-index: 500; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvTW9kYWxzL3N1Y3Vyc2FsLWNyZWF0ZS9DOlxcVXNlcnNcXEZhYmlhblxcRG9jdW1lbnRzXFxib2RlZ2luXFxhcHBCb2RlZ2luL3NyY1xcYXBwXFxNb2RhbHNcXHN1Y3Vyc2FsLWNyZWF0ZVxcc3VjdXJzYWwtY3JlYXRlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFRLEVBQUE7O0FBR1o7RUFNWSxtQkFBVyxFQUFBOztBQVF2QjtFQUNFLG1CQUFtQjtFQUNuQixjQUFjLEVBQUE7O0FBRWhCO0VBQ0UsbUJBQW1CLEVBQUE7O0FBRXJCO0VBQ0MsWUFBWTtFQUNaLGNBQWM7RUFDZCxzQkFBc0IsRUFBQTs7QUFHdkI7RUFDRSxlQUFlO0VBQ2YsT0FBTztFQUNQLFlBQVk7RUFDWixRQUFRO0VBQ1IsWUFBWSxFQUFBOztBQUdkO0VBQ0UsZUFBZTtFQUNmLE9BQU87RUFDUCxXQUFXO0VBQ1gsUUFBUTtFQUNSLFlBQVksRUFBQSIsImZpbGUiOiJzcmMvYXBwL01vZGFscy9zdWN1cnNhbC1jcmVhdGUvc3VjdXJzYWwtY3JlYXRlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1pdGVte1xyXG4gICAgLS1jb2xvcjogIzZlNjM2ODtcclxufVxyXG5cclxuaW9uLWNvbnRlbnR7XHJcbiAgZm9ybXtcclxuICAgIGlvbi1ncmlke1xyXG4gICAgICBpb24tcm93e1xyXG4gICAgICAgIGlvbi1pdGVte1xyXG4gICAgICAgICAgaW9uLWxhYmVse1xyXG4gICAgICAgICAgICAtLXBvc2l0aW9uOmZsb2F0aW5nO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLnNlcGFyYWRvcntcclxuICBiYWNrZ3JvdW5kOiAjMzg4MGZmO1xyXG4gIGNvbG9yOiAjRkZGRkZGO1xyXG59XHJcbi5ncmlkQm9yZGVye1xyXG4gIG1hcmdpbi1ib3R0b206IDM1cHg7XHJcbn1cclxuLmljb257XHJcbiBoZWlnaHQ6IDEwMCU7XHJcbiBkaXNwbGF5OiBibG9jaztcclxuIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbn1cclxuXHJcbi5idXR0b257XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIGxlZnQ6IDA7XHJcbiAgYm90dG9tOiA1MHB4O1xyXG4gIHJpZ2h0OiAwO1xyXG4gIHotaW5kZXg6IDUwMDtcclxufVxyXG5cclxuLmJ1dHRvbkV4aXR7XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIGxlZnQ6IDA7XHJcbiAgYm90dG9tOiA1cHg7XHJcbiAgcmlnaHQ6IDA7XHJcbiAgei1pbmRleDogNTAwO1xyXG59XHJcbiJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { SucursalesService } from '../../Services/sucursales.service';\r\nimport { UserService } from '../../Services/user.service';\nimport { Storage } from '@ionic/storage';\n\r\n@Component({\r\n  selector: 'app-sucursal-create',\r\n  templateUrl: './sucursal-create.page.html',\r\n  styleUrls: ['./sucursal-create.page.scss'],\r\n})\r\nexport class SucursalCreatePage implements OnInit {\r\n\r\n  @Input() sucursal = {\r\n    id_sucursal:null,\r\n    descripcion:null,\r\n    nombre_corto:null\r\n  };\r\n  @Input() accion;\r\n  usuarios = [\r\n    {\r\n      id_usuario:null,\r\n      id_perfil:null,\r\n      usuario:null,\r\n      celular:null,\r\n      fecha_creado:null,\r\n      activo:null,\r\n      nombre:null,\r\n      seleccionado:null\r\n    }\r\n  ];\r\n\r\n  constructor(private Pro_sucursales: SucursalesService,\r\n              public modalController: ModalController,\r\n              private Pro_usuarios:UserService,\r\n              private storage: Storage) { }\r\n\r\n  ngOnInit() {\r\n    this.storage.get('token').then(token=>{\r\n      this.Pro_usuarios.getUsuariosList(token, this.sucursal.id_sucursal).subscribe(data=>{\r\n        this.usuarios = data;\r\n        console.log(data)\r\n      })\r\n    })\r\n  }\r\n\r\n  async InsertUpdateSucursal(){\r\n    this.Pro_sucursales.InserUpdateDeleteSucursal(this.sucursal.id_sucursal,\r\n      this.sucursal.descripcion,\r\n      this.sucursal.nombre_corto,\r\n      this.accion\r\n    )\r\n    console.log(this.usuarios)\r\n    await this.Pro_sucursales.insertSucursalUsuario(this.usuarios, this.sucursal.id_sucursal)\r\n    this.modalController.dismiss(this.sucursal);\r\n  }\r\n\r\n  async Salir(){\r\n    this.modalController.dismiss();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { ComponentsModule } from '../../components/components.module';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { SucursalesPage } from './sucursales.page';\r\nimport { SucursalCreatePage } from '../../Modals/sucursal-create/sucursal-create.page';\r\nimport { SucursalCreatePageModule } from '../../Modals/sucursal-create/sucursal-create.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SucursalesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  entryComponents:[\r\n    SucursalCreatePage\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SucursalCreatePageModule,\r\n    RouterModule.forChild(routes),\r\n    ComponentsModule,\r\n  ],\r\n  declarations: [SucursalesPage]\r\n})\r\nexport class SucursalesPageModule {}\r\n","module.exports = \"<app-header-in titulo=\\\"Sucursales\\\"></app-header-in>\\r\\n<ion-content>\\r\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\r\\n    <ion-refresher-content  pullingIcon=\\\"arrow-dropdown\\\"\\r\\n                            pullingText=\\\"Hale para recargar\\\"\\r\\n                            refreshingSpinner=\\\"circles\\\"\\r\\n                            refreshingText=\\\"Recargando...\\\"></ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n  <div class=\\\"busqueda\\\">\\r\\n    <form #form=\\\"ngForm\\\">\\r\\n      <ion-grid>\\r\\n        <ion-row color=\\\"primary\\\" justify-content-center>\\r\\n          <ion-col>\\r\\n            <div #list>\\r\\n              <ion-item>\\r\\n                <ion-icon slot=\\\"end\\\"\\r\\n                          name=\\\"search\\\"\\r\\n                          color=\\\"#f4f4f4\\\">\\r\\n                </ion-icon>\\r\\n                <ion-input type=\\\"text\\\"\\r\\n                           name=\\\"sucursal\\\"\\r\\n                           placeholder=\\\"Buscar\\\"\\r\\n                           clearInput\\r\\n                           [(ngModel)]='textSearch'\\r\\n                           (ionChange)='busqueda($event.target.value)'\\r\\n                           (input)='busqueda($event.target.value)'\\r\\n                           >\\r\\n                </ion-input>\\r\\n              </ion-item>\\r\\n            </div>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </form>\\r\\n  </div>\\r\\n\\r\\n  <ion-list>\\r\\n    <ion-item-sliding *ngFor=\\\"let item of sucursales\\\">\\r\\n      <ion-item-options side=\\\"start\\\">\\r\\n        <ion-item-option color=\\\"danger\\\"\\r\\n           (click)=\\\"SucursalDelete(item.id_sucursal, item.descripcion)\\\">Eliminar<ion-icon slot=\\\"end\\\" name=\\\"trash\\\"></ion-icon>\\r\\n      </ion-item-option>\\r\\n      </ion-item-options>\\r\\n      <ion-item>\\r\\n        <ion-label>{{item.nombre_corto | uppercase}} &nbsp;-&nbsp; {{item.descripcion}}\\r\\n        </ion-label>\\r\\n        <ion-icon slot=\\\"end\\\" name=\\\"create\\\" (click)=\\\"presentModal('UPDATE',item)\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n    </ion-item-sliding>\\r\\n  </ion-list>\\r\\n\\r\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" #fab>\\r\\n    <ion-fab-button (click)=\\\"presentModal('INSERT')\\\">\\r\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n\\r\\n</ion-content>\\r\\n\"","module.exports = \"ion-col div ion-item {\\n  --background: #3880ff;\\n  --color: #fff; }\\n  ion-col div ion-item ion-label {\\n    font-size: 1.5em !important; }\\n  .busqueda {\\n  background: #3880ff; }\\n  .footer {\\n  position: fixed;\\n  bottom: 20px;\\n  z-index: 100; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvUGFnZXMvc3VjdXJzYWxlcy9DOlxcVXNlcnNcXEZhYmlhblxcRG9jdW1lbnRzXFxib2RlZ2luXFxhcHBCb2RlZ2luL3NyY1xcYXBwXFxQYWdlc1xcc3VjdXJzYWxlc1xcc3VjdXJzYWxlcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFHUSxxQkFBYTtFQUNiLGFBQVEsRUFBQTtFQUpoQjtJQU1VLDJCQUEyQixFQUFBO0VBS3JDO0VBQ0UsbUJBQW1CLEVBQUE7RUFHckI7RUFDRyxlQUFjO0VBQ2QsWUFBVztFQUNYLFlBQVksRUFBQSIsImZpbGUiOiJzcmMvYXBwL1BhZ2VzL3N1Y3Vyc2FsZXMvc3VjdXJzYWxlcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29se1xyXG4gIGRpdntcclxuICAgIGlvbi1pdGVte1xyXG4gICAgICAgIC0tYmFja2dyb3VuZDogIzM4ODBmZjtcclxuICAgICAgICAtLWNvbG9yOiAjZmZmO1xyXG4gICAgICAgIGlvbi1sYWJlbHtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMS41ZW0gIWltcG9ydGFudDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbi5idXNxdWVkYXtcclxuICBiYWNrZ3JvdW5kOiAjMzg4MGZmO1xyXG59XHJcblxyXG4uZm9vdGVyIHtcclxuICAgcG9zaXRpb246Zml4ZWQ7XHJcbiAgIGJvdHRvbToyMHB4O1xyXG4gICB6LWluZGV4OiAxMDA7XHJcbn1cclxuIl19 */\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { isApp } from '../../Config/configuration';\r\nimport { Storage } from '@ionic/storage';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { SucursalesService } from '../../Services/sucursales.service';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { SucursalCreatePage } from '../../Modals/sucursal-create/sucursal-create.page';\r\n\r\n@Component({\r\n  selector: 'app-sucursales',\r\n  templateUrl: './sucursales.page.html',\r\n  styleUrls: ['./sucursales.page.scss'],\r\n})\r\nexport class SucursalesPage implements OnInit {\r\n\r\n  sucursales;\r\n  sucursales_backup;\r\n  textSearch = ''\r\n  @ViewChild('list') el:ElementRef;\r\n\r\n  constructor(private Pro_sucursales:SucursalesService,\r\n              private storage:Storage,\r\n              public modalController: ModalController,\r\n              public alertController: AlertController,\r\n              public loadingController: LoadingController,\r\n              public toastController: ToastController\r\n            ) { }\r\n\r\n  ngOnInit() {\r\n    this.storage.get('token').then(token =>{\r\n      this.Pro_sucursales.obtenerSucursales(token).subscribe(data=>{\r\n        this.sucursales = this.sucursales_backup = data;\r\n      })\r\n    })\r\n  }\r\n\r\n  async presentModal(p_accion, p_sucursal=undefined) {\r\n\r\n    let suc = {\r\n      id_sucursal:p_sucursal ? p_sucursal.id_sucursal : null,\r\n      descripcion: p_sucursal ? p_sucursal.descripcion : null,\r\n      nombre_corto: p_sucursal ? p_sucursal.nombre_corto : null\r\n    }\r\n\r\n    const modal = await this.modalController.create({\r\n      component: SucursalCreatePage,\r\n      componentProps: {\r\n        'sucursal': suc,\r\n        'accion':p_accion\r\n      }\r\n    });\r\n    await modal.present();\r\n    let data  = await modal.onDidDismiss()\r\n\r\n    if (data.data != undefined) {\r\n      this.refreshUpdate();\r\n    }\r\n  }\r\n\r\n  async SucursalDelete(p_id_sucursal, p_descripcion) {\r\n    const alert = await this.alertController.create({\r\n      header: 'Eliminar Sucursal',\r\n      message: `Eliminar ${p_descripcion}`,\r\n      buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => {}\r\n        }, {\r\n          text: 'Eliminar',\r\n          handler: async data => {\r\n            await this.Pro_sucursales.InserUpdateDeleteSucursal(p_id_sucursal, data,'', 'DELETE');\r\n            await this.refreshUpdate();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async refreshUpdate(){\r\n    console.log('caimos al refresh')\r\n    this.sucursales = this.sucursales_backup = await this.Pro_sucursales.obtenerSucursalesAsync()\r\n    let event = new MouseEvent('click', {bubbles: false});\r\n    await this.el.nativeElement.dispatchEvent(event);\r\n    this.textSearch = null\r\n  }\r\n\r\n  async doRefresh(event) {\r\n    await this.refreshUpdate()\r\n    event.target.complete();\r\n  }\r\n\r\n async busqueda(p_busqueda){\r\n   this.sucursales = []\r\n   this.sucursales_backup.forEach(variable => {\r\n       if(variable.descripcion.toLowerCase().includes(p_busqueda.toLowerCase())){\r\n         this.sucursales.push(variable)\r\n       }\r\n   });\r\n }\r\n}\r\n"],"sourceRoot":""}