{"version":3,"sources":["webpack:///./src/app/Pages/config-usuarios/config-usuarios.module.ts","webpack:///./src/app/Pages/config-usuarios/config-usuarios.page.html","webpack:///./src/app/Pages/config-usuarios/config-usuarios.page.scss","webpack:///./src/app/Pages/config-usuarios/config-usuarios.page.ts"],"names":[],"mappings":"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","file":"Pages-config-usuarios-config-usuarios-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ComponentsModule } from '../../components/components.module';\nimport { PipesModule } from '../../Pipe/pipes.module';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ConfigUsuariosPage } from './config-usuarios.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConfigUsuariosPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PipesModule,\n    ComponentsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ConfigUsuariosPage]\n})\nexport class ConfigUsuariosPageModule {}\n","module.exports = \"<app-header-in titulo=\\\"Cambio\\\"></app-header-in>\\r\\n<ion-content>\\r\\n  <input #fileInput hidden (change)=\\\"fileUpload()\\\" type=\\\"file\\\" name=\\\"pic\\\" accept=\\\"image/*\\\">\\r\\n  <form *ngIf=\\\"cliente.id_cliente!=null\\\"  #form=\\\"ngForm\\\" (ngSubmit)=\\\"updateUsuario()\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row justify-content-center>\\r\\n        <ion-col align-self-center size-md=\\\"6\\\" size-lg=\\\"6\\\" size-xs=\\\"12\\\">\\r\\n          <div text-center>\\r\\n            <ion-avatar class=\\\"avatar\\\">\\r\\n              <img [src]=\\\"cliente.foto[1] | domSanitizer\\\"\\r\\n                   (click)=\\\"presentActionSheet()\\\">\\r\\n            </ion-avatar>\\r\\n          </div>\\r\\n          <div padding>\\r\\n            <ion-item>\\r\\n                <ion-label position=\\\"floating\\\">Nombre Comercial</ion-label>\\r\\n              <ion-input name=\\\"nombreComercial\\\"\\r\\n                         type=\\\"text\\\"\\r\\n                         [(ngModel)]=\\\"cliente.nombre_comercial\\\"\\r\\n                         required>\\r\\n              </ion-input>\\r\\n            </ion-item>\\r\\n            <ion-item>\\r\\n              <ion-label position=\\\"floating\\\">Nombre legal</ion-label>\\r\\n              <ion-input name=\\\"nombreLegal\\\"\\r\\n                         type=\\\"text\\\"\\r\\n                         [(ngModel)]=\\\"cliente.nombre_legal\\\"\\r\\n                         required>\\r\\n               </ion-input>\\r\\n            </ion-item>\\r\\n            <ion-item>\\r\\n              <ion-label position=\\\"floating\\\">Rtn</ion-label>\\r\\n              <ion-input name=\\\"rtn\\\"\\r\\n                         type=\\\"text\\\"\\r\\n                         pattern=\\\"\\\\d*\\\"\\r\\n                         [(ngModel)]=\\\"cliente.rtn\\\"\\r\\n                         required>\\r\\n              </ion-input>\\r\\n            </ion-item>\\r\\n            <ion-item>\\r\\n              <ion-label position=\\\"floating\\\">Teléfono</ion-label>\\r\\n              <ion-input name=\\\"phone\\\"\\r\\n                         maxlength=\\\"8\\\"\\r\\n                         minlength=\\\"8\\\"\\r\\n                         type=\\\"tel\\\"\\r\\n                         pattern=\\\"\\\\d*\\\"\\r\\n                         [(ngModel)]=\\\"cliente.telefono\\\"\\r\\n                         required>\\r\\n              </ion-input>\\r\\n            </ion-item>\\r\\n            <ion-item>\\r\\n              <ion-label position=\\\"floating\\\">Correo</ion-label>\\r\\n              <ion-input name=\\\"correo\\\"\\r\\n                         type=\\\"text\\\" [(ngModel)]=\\\"cliente.correo\\\"\\r\\n                        required>\\r\\n              </ion-input>\\r\\n            </ion-item>\\r\\n            <ion-item>\\r\\n              <ion-label position=\\\"floating\\\">Dirección</ion-label>\\r\\n              <ion-input name=\\\"direccion\\\"\\r\\n                         type=\\\"text\\\" [(ngModel)]=\\\"cliente.direccion\\\">\\r\\n              </ion-input>\\r\\n            </ion-item>\\r\\n            <ion-item>\\r\\n              <ion-label position=\\\"floating\\\">Usuario</ion-label>\\r\\n              <ion-input name=\\\"user\\\"\\r\\n                         type=\\\"text\\\"\\r\\n                         [(ngModel)]=\\\"cliente.usuario\\\"\\r\\n                         required>\\r\\n               </ion-input>\\r\\n            </ion-item>\\r\\n          </div>\\r\\n          <ion-item lines=\\\"none\\\">\\r\\n            <ion-button class=\\\"button\\\"\\r\\n                        type=\\\"submit\\\"\\r\\n                        size=\\\"default\\\"\\r\\n                        shape=\\\"round\\\">Guardar<ion-icon slot=\\\"end\\\" name=\\\"save\\\"></ion-icon></ion-button>\\r\\n\\r\\n            <ion-button class=\\\"buttonExit\\\"\\r\\n                        (click)=\\\"configUsuarios()\\\"\\r\\n                        size=\\\"default\\\"\\r\\n                        shape=\\\"round\\\">Configurar Usuarios<ion-icon slot=\\\"end\\\" name=\\\"cog\\\"></ion-icon></ion-button>\\r\\n          </ion-item>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  </form>\\r\\n</ion-content>\\r\\n\"","module.exports = \"ion-item {\\n  --color: #6e6368; }\\n\\nion-label {\\n  --color: #3880ff !important; }\\n\\n.avatar {\\n  margin: auto; }\\n\\n.button {\\n  position: fixed;\\n  left: 0;\\n  bottom: 50px;\\n  right: 0;\\n  z-index: 500; }\\n\\n.buttonExit {\\n  position: fixed;\\n  left: 0;\\n  bottom: 5px;\\n  right: 0;\\n  z-index: 500; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvUGFnZXMvY29uZmlnLXVzdWFyaW9zL0M6XFxVc2Vyc1xcRmFiaWFuXFxEb2N1bWVudHNcXGJvZGVnaW5cXGFwcEJvZGVnaW4vc3JjXFxhcHBcXFBhZ2VzXFxjb25maWctdXN1YXJpb3NcXGNvbmZpZy11c3Vhcmlvcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxnQkFBUSxFQUFBOztBQUVaO0VBQ0UsMkJBQVEsRUFBQTs7QUFFVjtFQUNHLFlBQVksRUFBQTs7QUFHZjtFQUNFLGVBQWU7RUFDZixPQUFPO0VBQ1AsWUFBWTtFQUNaLFFBQVE7RUFDUixZQUFZLEVBQUE7O0FBR2Q7RUFDRSxlQUFlO0VBQ2YsT0FBTztFQUNQLFdBQVc7RUFDWCxRQUFRO0VBQ1IsWUFBWSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvUGFnZXMvY29uZmlnLXVzdWFyaW9zL2NvbmZpZy11c3Vhcmlvcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taXRlbXtcclxuICAgIC0tY29sb3I6ICM2ZTYzNjg7XHJcbn1cclxuaW9uLWxhYmVse1xyXG4gIC0tY29sb3I6ICMzODgwZmYgIWltcG9ydGFudDtcclxufVxyXG4uYXZhdGFye1xyXG4gICBtYXJnaW46IGF1dG87XHJcbn1cclxuXHJcbi5idXR0b257XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIGxlZnQ6IDA7XHJcbiAgYm90dG9tOiA1MHB4O1xyXG4gIHJpZ2h0OiAwO1xyXG4gIHotaW5kZXg6IDUwMDtcclxufVxyXG5cclxuLmJ1dHRvbkV4aXR7XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIGxlZnQ6IDA7XHJcbiAgYm90dG9tOiA1cHg7XHJcbiAgcmlnaHQ6IDA7XHJcbiAgei1pbmRleDogNTAwO1xyXG59XHJcbiJdfQ== */\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ClientService } from '../../Services/client.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { isApp } from '../../Config/configuration';\r\nimport { ActionSheetController } from '@ionic/angular';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\r\nimport { LoadingController } from '@ionic/angular';\nimport { Router } from '@angular/router';\r\n\r\ndeclare var window: any;\r\n\r\n@Component({\r\n  selector: 'app-config-usuarios',\r\n  templateUrl: './config-usuarios.page.html',\r\n  styleUrls: ['./config-usuarios.page.scss'],\r\n})\r\nexport class ConfigUsuariosPage implements OnInit {\r\n\r\n  cliente = {\r\n    id_cliente: null,\r\n    nombre_legal: null,\r\n    nombre_comercial: null,\r\n    rtn:null,\r\n    telefono:null,\r\n    direccion:null,\r\n    usuario:null,\r\n    foto: [],\r\n    correo:null\r\n  }\r\n\r\n  @ViewChild('fileInput') el:ElementRef;\r\n  isLoading = false\r\n\r\n  constructor(private Pro_cliente:ClientService,\r\n              private storage:Storage,\r\n              public toastController: ToastController,\r\n              public actionSheetController: ActionSheetController,\r\n              private camera: Camera,\r\n              public loadingController: LoadingController,\r\n              private router:Router) { }\r\n\r\n  ngOnInit() {\r\n    this.storage.get('token').then(token=>{\r\n      this.Pro_cliente.recuperarCliente(token).subscribe(data=>{\r\n        this.cliente = data\r\n        this.cliente.foto = []\r\n        this.cliente.foto.push(data.logo)\r\n        this.cliente.foto.push(data.logo)\r\n      })\r\n    })\r\n  }\r\n\r\n  async presentActionSheet() {\r\n    if (isApp) {\r\n      const actionSheet = await this.actionSheetController.create({\r\n        header: 'Imagen',\r\n        buttons: [{\r\n          text: 'Fotografiar',\r\n          handler: () => {\r\n            this.take();\r\n          }\r\n        },\r\n        {\r\n          text: 'Elegir',\r\n          handler: () => {\r\n            this.loadImage();\r\n          }\r\n        },\r\n        {\r\n          text: 'Cancelar',\r\n          icon: 'close',\r\n          role: 'cancel',\r\n          handler: () => {\r\n          }\r\n        }]\r\n      });\r\n      await actionSheet.present();\r\n    }else{\r\n      let event = new MouseEvent('click', {bubbles: false});\r\n      await this.el.nativeElement.dispatchEvent(event);\r\n    }\r\n  }\r\n\r\n  take(){\r\n    const options: CameraOptions = {\r\n    quality: 20,\r\n    destinationType: this.camera.DestinationType.FILE_URI,\r\n    encodingType: this.camera.EncodingType.JPEG,\r\n    mediaType: this.camera.MediaType.PICTURE,\r\n    correctOrientation:true,\r\n    sourceType:this.camera.PictureSourceType.CAMERA\r\n  }\r\n\r\n    this.camera.getPicture(options).then((imageData) => {\r\n     const img = window.Ionic.WebView.convertFileSrc( imageData );\r\n     this.cliente.foto=[]\r\n     this.cliente.foto.push(imageData)\r\n     this.cliente.foto.push(img)\r\n    });\r\n  }\r\n\r\n  loadImage(){\r\n    const options: CameraOptions = {\r\n    quality: 20,\r\n    destinationType: this.camera.DestinationType.FILE_URI,\r\n    encodingType: this.camera.EncodingType.JPEG,\r\n    mediaType: this.camera.MediaType.PICTURE,\r\n    correctOrientation:true,\r\n    sourceType:this.camera.PictureSourceType.PHOTOLIBRARY\r\n    }\r\n\r\n    this.camera.getPicture(options).then((imageData) => {\r\n     this.cliente.foto=[]\r\n     const img = window.Ionic.WebView.convertFileSrc( imageData );\r\n     this.cliente.foto.push(imageData)\r\n     this.cliente.foto.push(img)\r\n   });\r\n  }\r\n\r\n  fileUpload() {\r\n    var reader = new FileReader();\r\n    reader.readAsDataURL(this.el.nativeElement.files[0]);\r\n    reader.onload = (_event) => {\r\n      this.cliente.foto = []\r\n      this.cliente.foto.push(reader.result.toString());\r\n      this.cliente.foto.push(reader.result.toString());\r\n    }\r\n  }\r\n\r\n  async showToast(p_mensaje, p_duration=3000){\r\n    const toast = await this.toastController.create({\r\n      message: p_mensaje,\r\n      duration: p_duration,\r\n      position: 'middle',\r\n      showCloseButton:true,\r\n      closeButtonText: 'Cerrar'\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  async configUsuarios() {\r\n    await this.router.navigate(['configUsuariosList'])\r\n  }\r\n\r\n  async present() {\r\n    this.isLoading = true;\r\n    return await this.loadingController.create({\r\n      duration: 10000\r\n    }).then(a => {\r\n      a.present().then(() => {\r\n        if (!this.isLoading) {\r\n          a.dismiss().then(() => {});\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  async dismiss() {\r\n    this.isLoading = false;\r\n    return await this.loadingController.dismiss().then(() => {});\r\n  }\r\n\r\n  async guardarImagen(){\r\n    if (this.cliente.foto[0]!='assets/nuevo/camera.png') {\r\n      let filePath: string = this.cliente.foto[0]\r\n       this.cliente.foto[0] = filePath\r\n    }\r\n\r\n    if (!isApp) {\r\n      this.cliente.foto[0] = this.el.nativeElement.files[0]\r\n    }\r\n\r\n    await this.Pro_cliente.subirImagen(this.cliente.foto[0], this.cliente.id_cliente).catch(err=>{})\r\n    await this.dismiss()\r\n  }\r\n\r\n  async updateUsuario(){\r\n      await this.present()\r\n      this.Pro_cliente.validaUsuario(this.cliente.id_cliente, this.cliente.usuario)\r\n        .subscribe(async resp=>{\r\n          if (resp!=null) {\r\n            if (resp==true) {\r\n              this.Pro_cliente.updateCliente(this.cliente).subscribe(async data => {\r\n                await this.guardarImagen()\r\n                await this.dismiss()\r\n                await this.showToast('Cambios guardados con exito', 5000)\r\n              }, async err=>{\r\n                await this.dismiss()\r\n              })\r\n            }else {\r\n                await this.showToast('El usuario ya existe')\r\n                await this.dismiss()\r\n            }\r\n          }\r\n          else{\r\n            await this.dismiss()\r\n          }\r\n      }, async err =>{\r\n        await this.dismiss()\r\n      });\r\n  }\r\n}\r\n"],"sourceRoot":""}